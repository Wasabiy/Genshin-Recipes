<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billetter</title>
    <link rel="stylesheet" href="style/billetter.css">
    <link rel="stylesheet" href="style/style.css">
    <link rel="icon" href="images/logo/syngfonia_favicon.png" type="image/x-icon">
</head>

<body>
    <div id="titleimg">
        <img id="tittelbildet" src="images/logo/billetter.png" alt="Billetter">
    </div>
    <div id="content">
        <div id="innerBody">
            <p>Skal du dra på Syngfonia alene eller i en gruppe? <br> Pris per person uansett alder: 200kr, <br>
                Familier får en rabatt på 25% <br> Vennegrupper får en rabatt på 10%</p>
            <input class="checkmark" type="radio" name="grupper" id="familie" required>
            <label for="grupper">Familie</label><br>
            <input class="checkmark" type="radio" name="grupper" id="gruppeVenner" required>
            <label for="grupper">Gruppe med venner</label><br>
            <input class="checkmark" type="radio" name="grupper" id="alene" required>
            <label for="grupper">Alene</label><br> <br>

            <div class="valgdiv" id="familieDiv">
                <label for="antall">Skriv inn antallet personer i familien: </label>
                <input type="number" name="antall" id="antallFam"> <br> <br>
                <label for="epost">Skriv inn din epostadresse: </label>
                <input type="email" name="epost" id="epostFam" required> <br> <br>
                <label for="tlf">Skriv inn telefonummer: </label>
                <input type="number" name="tlf" id="tlfFam" required> <br> <br>
                <label for="dato1">Velg dato: </label>
                <input type="date" name="dato1" id="dato1" min="2022-06-10" max="2022-06-13" required> <br> <br>
                <button id="registrerFam" name="registrer">Kjøp billett</button>
            </div>
            <div class="valgdiv" id="vennerDiv">
                <label for="antall">Skriv inn antallet personer i vennegruppen: </label>
                <input type="number" name="antall" id="antallVenn"> <br> <br>
                <label for="email">Skriv inn din epostadresse: </label>
                <input type="text" name="epost" id="epostVenn" required> <br> <br>
                <label for="tlf">Skriv inn telefonummer: </label>
                <input type="number" name="tlf" id="tlfVenn" required> <br> <br>
                <label for="dato2">Velg dato: </label>
                <input type="date" name="dato2" id="dato2" min="2022-06-10" max="2022-06-13" required> <br> <br>
                <button id="registrerVenn" name="registrer">Kjøp billett</button>
            </div>
            <div class="valgdiv" id="aleneDiv">
                <label for="navn">Skriv inn ditt navn: </label>
                <input type="text" name="navn" id="navn" required> <br> <br>
                <label for="alder">Skriv inn din alder</label>
                <input type="number" name="alder" id="alder" required> <br> <br>
                <label for="epost">Skriv inn epostadresse: </label>
                <input type="email" name="epost" id="epost" required> <br> <br>
                <label for="tlf">Skriv inn telefonummer: </label>
                <input type="number" name="tlf" id="tlf" required> <br> <br>
                <label for="dato3">Velg dato: </label>
                <input type="date" name="dato3" id="dato3" min="2022-06-10" max="2022-06-13" required> <br> <br>
                <button id="registrer" name="registrer">Kjøp billett</button>
            </div>

        </div>

        <div id="lokasjon">
            <h2>Her skjer det!</h2>

            <div id="kart">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d7139.148194869939!2d10.368853448713786!3d63.42714473240168!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x466d3188b88f12ff%3A0xbdb8c0a5aa553fa0!2sTrondheim%20Spektrum%20AS!5e0!3m2!1sno!2sno!4v1667915626567!5m2!1sno!2sno"
                    width="400" height="300" style="border:0;" allowfullscreen="" loading="lazy"
                    referrerpolicy="no-referrer-when-downgrade"></iframe>
            </div>
        </div>
    </div>
    <script src="script/universalis.js"></script>
    <script>
        var familiediv = document.getElementById("familieDiv");
        var vennerDiv = document.getElementById("vennerDiv");
        var alenediv = document.getElementById("aleneDiv");
        var registrerFam = document.getElementById("registrerFam");
        var registrerVenn = document.getElementById("registrerVenn");
        var registrerKnapp = document.getElementById("registrer");
        var innerBody = document.getElementById("innerBody");
        var pris = 200;

        registrerFam.addEventListener("click", function writeOutAleneInputFam() {
            if (document.getElementById("antallFam").value == "" || document.getElementById("epostFam").value == "" || document.getElementById("tlfFam").value == "" || document.getElementById("dato1").value == "") {
                console.log(document.getElementById("antallFam").value);
                alert("Skriv inn i inputen");
                console.log("test");
            } else {
                let antallFam = document.getElementById("antallFam").value;
            
                    let epostFam = document.getElementById("epostFam").value;
                    let tlfFam = document.getElementById("tlfFam").value;
                    let dateFam = document.getElementById("dato1").value;

                let sum = antallFam * pris * 0.75;
                innerBody.innerHTML = "";
                console.log(antallFam);
                innerBody.innerHTML = "Da har du kjøpt billettene til familien din! De er registrert under bestillers epost og telefonnummner. Dette er billettene dine, ta gjerne et bilde <br>"
                innerBody.innerHTML = "Antallet billetter: " + antallFam  + "<br>" + "Din epost: " + epostFam + "<br>" + "Ditt telefonnummer: " + tlfFam + "<br> Valgt dato: " + dateFam  + "<br> Totalpris: " + sum;

}
        });

        document.addEventListener("change", function onChange() {
            if (document.getElementById("familie").checked) {
                familiediv.style.display = "block";
            } else {
                familiediv.style.display = "none";
            }

            if (document.getElementById("gruppeVenner").checked) {
                vennerDiv.style.display = "block";
                let antallVenn = document.getElementById("antallVenn").value;
                let epostVenn = document.getElementById("epostVenn").value;
                let tlfVenn = document.getElementById("tlfVenn").value;
                let datoVenn = document.getElementById("dato2").value;
                registrerVenn.addEventListener("click", function writeOutAleneInputVenn() {
                    let sum = antallVenn * pris * 0.10;
                    innerBody.innerHTML = "";
                    innerBody.innerHTML = "Da har du kjøpt billettene til vennene dine! De er registrert under din epost og telefonnummner. Dette er billettene dine, ta gjerne et bilde <br>"
                    innerBody.innerHTML = "Antallet billetter: " + antallVenn + "<br>" + "Din epost: " + epostVenn + "<br>" + "Ditt telefonnummer: " + tlfVenn + "<br> Valgt dato: " + datoVenn + "<br> Totalpris: " + sum;
                });
            } else {
                vennerDiv.style.display = "none";
            }

            if (document.getElementById("alene").checked) {
                alenediv.style.display = "block";
                let aleneNavn = document.getElementById("navn").value;
                let aleneAlder = document.getElementById("alder").value;
                let aleneEpost = document.getElementById("epost").value;
                let aleneTlf = document.getElementById("tlf").value;
                let datoTlf = document.getElementById("dato3").value;
                registrerKnapp.addEventListener("click", function writeOutAleneInput() {
                    innerBody.innerHTML = "";
                    innerBody.innerHTML = "Da har du kjøpt billettene! Dette er billettene dine, ta gjerne et bilde <br>"
                    innerBody.innerHTML = "Navn: " + aleneNavn + "<br>" + "alder: " + aleneAlder + "<br>" + "epost: " + aleneEpost + "<br>" + "Telefonnummer: " + aleneTlf + "<br>" + "Valgt dato: " + datoTlf + "<br> Totalpris: " + pris;
                });
            } else {
                alenediv.style.display = "none";
            }
        })

    </script>

</body>

</html>